---
sidebar_label: docker cli
sidebar_position: 1
---

## 官方指令集

[Docker run reference | Docker Docs](https://docs.docker.com/engine/reference/run/)



## 常用指令整理

- `docker ps -a` : list all container including stopped container

- `docker kill $(docker ps -q)` : kill all running containers

- `docker rm $(docker ps -a -q)` : delete all stopped containers

- `docker rmi $(docker images -q)` : delete all images

- `docker exec -i -t /bin/bash` : bash shell into container (if bash is not available use /bin/sh)

- `docker exec -i -t -u root /bin/bash` : bash shell with root if container is running in a different user context

## docker 的子成員

- `docker service`

- `docker container`

- `docker image`

- `docker volume`

- `docker network`

- `docker swarm` : 管理 group

- `docker node` : 管理 swarm 節點

- `docker system`

- `docker config`

## 清空

`docker system prune -f` (清空所有非運行的 container 及 cache)

`docker image prune -a` (清空所有 image)

## docker container

`docker container ls` (列出所有正在運行的 container )

`docker container ls -a` (列出所有正在運行 及 非運行的 container )

`docker start <container_name>` (運行一個停止的 container)

`docker container run [OPTIONS] IMAGE` (讀取 image , 運行一個新的 container)

`docker container stop <name or Id>` (停止一個運行中的 container) (優雅退出，適用於線上產品)

`docker container kill <name or Id>` (kill 一個運行中的 container) (立即退出)

`docker container restart  <name or Id>` (重啟 container)

`docker container pause  <name or Id>` (暫停)

`docker container unpause  <name or Id>` (取消暫停)

`docker container rm <name or Id>` (kill container)

## docker image

`docker build . -t <image name>` (創建一個新的 image)

`docker image ls` (列出所有 image )

`docker image rm` (remove image)

## docker hub

登錄到鏡像倉庫  
`$ docker login`

`$ docker login localhost:8080`

從鏡像倉庫註銷  
`$ docker logout`

`$ docker logout localhost:8080`

搜索鏡像  
`$ docker search nginx`

`$ docker search nginx --stars=3 --no-trunc busybox`

拉取鏡像  
`$ docker pull nginx`

`$ docker pull eon01/nginx localhost:5000/myadmin/nginx`

推送鏡像 (這邊需要注意 -t 開頭一定要是自已的 name ex : yongsin0129 , 不然會報錯)  
`$ docker push eon01/nginx`

`$ docker push eon01/nginx localhost:5000/myadmin/nginx`

## 參考資料

[Docker 备忘清单](https://wangchujiang.com/reference/docs/docker.html)

[Extremely Useful Docker Commands](https://codenotary.com/blog/extremely-useful-docker-commands)
